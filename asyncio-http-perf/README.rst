Asyncio HTTP Client Perf
========================

A quick comparison of popular async client libraries for performing HTTP
requests in Python.

Usage
-----

Start the server::

    $ make server

Then, in a new shell::

    $ make bench

Results
-------

+------------------------------------------+----------------+-------------+-------------+-------------+
| Command                                  | Mean [ms]      | Min [ms]    | Max [ms]    | Relative    |
+==========================================+================+=============+=============+=============+
| ``aiohttp run --count=1``                | 833.0 ± 82.4   | 793.9       | 1063.4      | 1.09 ± 0.11 |
+------------------------------------------+----------------+-------------+-------------+-------------+
| ``aiohttp run --count=10``               | 777.4 ± 25.3   | 755.3       | 833.4       | 1.02 ± 0.04 |
+------------------------------------------+----------------+-------------+-------------+-------------+
| ``aiohttp run --count=100``              | 807.4 ± 9.5    | 798.4       | 832.3       | 1.06 ± 0.03 |
+------------------------------------------+----------------+-------------+-------------+-------------+
| ``aiohttp run --count=100 --batch=10``   | 834.1 ± 34.3   | 804.1       | 892.2       | 1.09 ± 0.05 |
+------------------------------------------+----------------+-------------+-------------+-------------+
| ``aiohttp run --count=100 --batch=100``  | 820.1 ± 19.1   | 801.1       | 867.3       | 1.07 ± 0.04 |
+------------------------------------------+----------------+-------------+-------------+-------------+
| ``aiohttp run --count=1000``             | 1261.5 ± 36.8  | 1216.1      | 1321.5      | 1.65 ± 0.06 |
+------------------------------------------+----------------+-------------+-------------+-------------+
| ``aiohttp run --count=1000 --batch=10``  | 1121.3 ± 21.6  | 1103.1      | 1172.8      | 1.47 ± 0.04 |
+------------------------------------------+----------------+-------------+-------------+-------------+
| ``aiohttp run --count=1000 --batch=100`` | 1120.0 ± 10.5  | 1106.9      | 1144.4      | 1.46 ± 0.04 |
+------------------------------------------+----------------+-------------+-------------+-------------+
| ``asks run --count=1``                   | 765.1 ± 18.1   | 750.3       | 805.4       | 1.00        |
+------------------------------------------+----------------+-------------+-------------+-------------+
| ``asks run --count=10``                  | 785.8 ± 24.5   | 769.2       | 852.1       | 1.03 ± 0.04 |
+------------------------------------------+----------------+-------------+-------------+-------------+
| ``asks run --count=100``                 | 919.8 ± 19.1   | 904.7       | 972.0       | 1.20 ± 0.04 |
+------------------------------------------+----------------+-------------+-------------+-------------+
| ``asks run --count=100 --batch=10``      | 869.2 ± 13.7   | 851.8       | 894.0       | 1.14 ± 0.03 |
+------------------------------------------+----------------+-------------+-------------+-------------+
| ``asks run --count=100 --batch=100``     | 853.9 ± 7.3    | 843.9       | 864.8       | 1.12 ± 0.03 |
+------------------------------------------+----------------+-------------+-------------+-------------+
| ``asks run --count=1000``                | 2371.1 ± 74.0  | 2314.2      | 2567.1      | 3.10 ± 0.12 |
+------------------------------------------+----------------+-------------+-------------+-------------+
| ``asks run --count=1000 --batch=10``     | 1982.2 ± 59.0  | 1868.3      | 2067.8      | 2.59 ± 0.10 |
+------------------------------------------+----------------+-------------+-------------+-------------+
| ``asks run --count=1000 --batch=100``    | 1933.6 ± 151.2 | 1756.8      | 2192.9      | 2.53 ± 0.21 |
+------------------------------------------+----------------+-------------+-------------+-------------+
| ``httpx run --count=1``                  | 778.1 ± 13.7   | 763.3       | 813.1       | 1.02 ± 0.03 |
+------------------------------------------+----------------+-------------+-------------+-------------+
| ``httpx run --count=10``                 | 807.3 ± 45.3   | 779.7       | 915.7       | 1.06 ± 0.06 |
+------------------------------------------+----------------+-------------+-------------+-------------+
| ``httpx run --count=100``                | 894.1 ± 22.3   | 870.2       | 942.3       | 1.17 ± 0.04 |
+------------------------------------------+----------------+-------------+-------------+-------------+
| ``httpx run --count=100 --batch=10``     | 873.0 ± 8.5    | 859.4       | 884.5       | 1.14 ± 0.03 |
+------------------------------------------+----------------+-------------+-------------+-------------+
| ``httpx run --count=100 --batch=100``    | 895.1 ± 20.7   | 868.2       | 937.0       | 1.17 ± 0.04 |
+------------------------------------------+----------------+-------------+-------------+-------------+
| ``httpx run --count=1000``               | 1852.8 ± 23.3  | 1827.4      | 1901.9      | 2.42 ± 0.06 |
+------------------------------------------+----------------+-------------+-------------+-------------+
| ``httpx run --count=1000 --batch=10``    | 1773.4 ± 53.6  | 1721.5      | 1872.2      | 2.32 ± 0.09 |
+------------------------------------------+----------------+-------------+-------------+-------------+
| ``httpx run --count=1000 --batch=100``   | 1830.5 ± 33.8  | 1791.0      | 1901.7      | 2.39 ± 0.07 |
+------------------------------------------+----------------+-------------+-------------+-------------+
