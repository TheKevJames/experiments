Asyncio HTTP Client Perf
========================

A quick comparison of popular async client libraries for performing HTTP
requests in Python.

Usage
-----

Start the server::

    $ make server

Then, in a new shell::

    $ make bench

Results
-------

+------------------------------------------+-----------------+----------+----------+--------------+
| Command                                  | Mean [ms]       | Min [ms] | Max [ms] | Relative     |
+==========================================+=================+==========+==========+==============+
| ``aiohttp run --count=1``                | 655.6 ± 12.2    | 644.0    | 683.6    | 1.00 ± 0.02  |
+------------------------------------------+-----------------+----------+----------+--------------+
| ``aiohttp run --count=10``               | 654.8 ± 8.9     | 645.2    | 669.8    | 1.00         |
+------------------------------------------+-----------------+----------+----------+--------------+
| ``aiohttp run --count=100``              | 678.6 ± 6.7     | 672.3    | 694.3    | 1.04 ± 0.02  |
+------------------------------------------+-----------------+----------+----------+--------------+
| ``aiohttp run --count=100 --batch=10``   | 673.3 ± 5.1     | 668.5    | 683.7    | 1.03 ± 0.02  |
+------------------------------------------+-----------------+----------+----------+--------------+
| ``aiohttp run --count=100 --batch=100``  | 706.2 ± 7.8     | 696.3    | 719.5    | 1.08 ± 0.02  |
+------------------------------------------+-----------------+----------+----------+--------------+
| ``aiohttp run --count=1000``             | 964.6 ± 5.0     | 956.4    | 974.6    | 1.47 ± 0.02  |
+------------------------------------------+-----------------+----------+----------+--------------+
| ``aiohttp run --count=1000 --batch=10``  | 899.9 ± 16.2    | 879.8    | 932.8    | 1.37 ± 0.03  |
+------------------------------------------+-----------------+----------+----------+--------------+
| ``aiohttp run --count=1000 --batch=100`` | 957.1 ± 33.8    | 911.9    | 1011.2   | 1.46 ± 0.06  |
+------------------------------------------+-----------------+----------+----------+--------------+
| ``asks run --count=1``                   | 688.4 ± 14.6    | 671.3    | 719.3    | 1.05 ± 0.03  |
+------------------------------------------+-----------------+----------+----------+--------------+
| ``asks run --count=10``                  | 837.3 ± 18.3    | 814.7    | 872.5    | 1.28 ± 0.03  |
+------------------------------------------+-----------------+----------+----------+--------------+
| ``asks run --count=100``                 | 1962.0 ± 107.9  | 1775.7   | 2121.3   | 3.00 ± 0.17  |
+------------------------------------------+-----------------+----------+----------+--------------+
| ``asks run --count=100 --batch=10``      | 1207.9 ± 71.7   | 1083.1   | 1302.9   | 1.84 ± 0.11  |
+------------------------------------------+-----------------+----------+----------+--------------+
| ``asks run --count=100 --batch=100``     | 871.3 ± 39.4    | 811.5    | 946.1    | 1.33 ± 0.06  |
+------------------------------------------+-----------------+----------+----------+--------------+
| ``asks run --count=1000``                | 14087.3 ± 630.9 | 13022.6  | 14824.0  | 21.51 ± 1.01 |
+------------------------------------------+-----------------+----------+----------+--------------+
| ``asks run --count=1000 --batch=10``     | 5799.3 ± 178.4  | 5577.3   | 6151.6   | 8.86 ± 0.30  |
+------------------------------------------+-----------------+----------+----------+--------------+
| ``asks run --count=1000 --batch=100``    | 1930.2 ± 61.6   | 1863.9   | 2038.7   | 2.95 ± 0.10  |
+------------------------------------------+-----------------+----------+----------+--------------+
| ``httpx run --count=1``                  | 752.4 ± 28.4    | 700.0    | 789.7    | 1.15 ± 0.05  |
+------------------------------------------+-----------------+----------+----------+--------------+
| ``httpx run --count=10``                 | 751.3 ± 28.7    | 722.0    | 798.7    | 1.15 ± 0.05  |
+------------------------------------------+-----------------+----------+----------+--------------+
| ``httpx run --count=100``                | 835.9 ± 28.4    | 790.1    | 876.4    | 1.28 ± 0.05  |
+------------------------------------------+-----------------+----------+----------+--------------+
| ``httpx run --count=100 --batch=10``     | 795.7 ± 35.0    | 752.7    | 844.3    | 1.22 ± 0.06  |
+------------------------------------------+-----------------+----------+----------+--------------+
| ``httpx run --count=100 --batch=100``    | 787.6 ± 16.0    | 763.1    | 812.6    | 1.20 ± 0.03  |
+------------------------------------------+-----------------+----------+----------+--------------+
| ``httpx run --count=1000``               | 1557.1 ± 100.2  | 1407.3   | 1699.1   | 2.38 ± 0.16  |
+------------------------------------------+-----------------+----------+----------+--------------+
| ``httpx run --count=1000 --batch=10``    | 1405.0 ± 29.1   | 1360.1   | 1451.0   | 2.15 ± 0.05  |
+------------------------------------------+-----------------+----------+----------+--------------+
| ``httpx run --count=1000 --batch=100``   | 1515.1 ± 29.8   | 1459.7   | 1570.3   | 2.31 ± 0.06  |
+------------------------------------------+-----------------+----------+----------+--------------+
