Asyncio HTTP Client Perf
========================

A quick comparison of popular async client libraries for performing HTTP
requests in Python.

Usage
-----

Start the server::

    $ make server

Then, in a new shell::

    $ make bench

Results
-------

+------------------------------------------+----------------+----------+----------+-------------+
| Command                                  | Mean [ms]      | Min [ms] | Max [ms] | Relative    |
+==========================================+================+==========+==========+=============+
| ``aiohttp run --count=1``                | 774.6 ± 8.1    | 763.9    | 785.8    | 1.00        |
+------------------------------------------+----------------+----------+----------+-------------+
| ``aiohttp run --count=10``               | 783.1 ± 8.2    | 771.5    | 796.4    | 1.01 ± 0.01 |
+------------------------------------------+----------------+----------+----------+-------------+
| ``aiohttp run --count=100``              | 848.4 ± 36.6   | 810.5    | 909.8    | 1.10 ± 0.05 |
+------------------------------------------+----------------+----------+----------+-------------+
| ``aiohttp run --count=100 --batch=10``   | 811.2 ± 12.3   | 791.5    | 828.2    | 1.05 ± 0.02 |
+------------------------------------------+----------------+----------+----------+-------------+
| ``aiohttp run --count=100 --batch=100``  | 832.6 ± 17.6   | 818.6    | 877.6    | 1.07 ± 0.03 |
+------------------------------------------+----------------+----------+----------+-------------+
| ``aiohttp run --count=1000``             | 1228.7 ± 34.8  | 1188.7   | 1288.2   | 1.59 ± 0.05 |
+------------------------------------------+----------------+----------+----------+-------------+
| ``aiohttp run --count=1000 --batch=10``  | 1104.5 ± 43.6  | 1061.8   | 1214.5   | 1.43 ± 0.06 |
+------------------------------------------+----------------+----------+----------+-------------+
| ``aiohttp run --count=1000 --batch=100`` | 1114.7 ± 44.2  | 1077.2   | 1228.9   | 1.44 ± 0.06 |
+------------------------------------------+----------------+----------+----------+-------------+
| ``asks run --count=1``                   | 780.8 ± 8.9    | 770.0    | 796.2    | 1.01 ± 0.02 |
+------------------------------------------+----------------+----------+----------+-------------+
| ``asks run --count=10``                  | 804.3 ± 30.7   | 782.6    | 883.6    | 1.04 ± 0.04 |
+------------------------------------------+----------------+----------+----------+-------------+
| ``asks run --count=100``                 | 944.1 ± 17.0   | 921.9    | 969.8    | 1.22 ± 0.03 |
+------------------------------------------+----------------+----------+----------+-------------+
| ``asks run --count=100 --batch=10``      | 906.4 ± 43.2   | 866.2    | 1000.1   | 1.17 ± 0.06 |
+------------------------------------------+----------------+----------+----------+-------------+
| ``asks run --count=100 --batch=100``     | 907.9 ± 41.0   | 871.7    | 1003.5   | 1.17 ± 0.05 |
+------------------------------------------+----------------+----------+----------+-------------+
| ``asks run --count=1000``                | 2455.3 ± 92.5  | 2368.9   | 2630.0   | 3.17 ± 0.12 |
+------------------------------------------+----------------+----------+----------+-------------+
| ``asks run --count=1000 --batch=10``     | 2226.5 ± 163.4 | 2010.6   | 2417.6   | 2.87 ± 0.21 |
+------------------------------------------+----------------+----------+----------+-------------+
| ``asks run --count=1000 --batch=100``    | 2160.4 ± 152.9 | 1921.3   | 2417.9   | 2.79 ± 0.20 |
+------------------------------------------+----------------+----------+----------+-------------+
| ``httpx run --count=1``                  | 836.2 ± 65.4   | 774.2    | 1014.9   | 1.08 ± 0.09 |
+------------------------------------------+----------------+----------+----------+-------------+
| ``httpx run --count=10``                 | 808.5 ± 19.2   | 781.8    | 851.4    | 1.04 ± 0.03 |
+------------------------------------------+----------------+----------+----------+-------------+
| ``httpx run --count=100``                | 910.4 ± 21.8   | 891.4    | 965.5    | 1.18 ± 0.03 |
+------------------------------------------+----------------+----------+----------+-------------+
| ``httpx run --count=100 --batch=10``     | 927.0 ± 44.8   | 865.2    | 987.7    | 1.20 ± 0.06 |
+------------------------------------------+----------------+----------+----------+-------------+
| ``httpx run --count=100 --batch=100``    | 888.2 ± 14.2   | 861.9    | 909.6    | 1.15 ± 0.02 |
+------------------------------------------+----------------+----------+----------+-------------+
| ``httpx run --count=1000``               | 1879.0 ± 14.9  | 1856.9   | 1903.1   | 2.43 ± 0.03 |
+------------------------------------------+----------------+----------+----------+-------------+
| ``httpx run --count=1000 --batch=10``    | 1742.1 ± 59.8  | 1677.6   | 1835.2   | 2.25 ± 0.08 |
+------------------------------------------+----------------+----------+----------+-------------+
| ``httpx run --count=1000 --batch=100``   | 1762.8 ± 24.6  | 1738.8   | 1810.2   | 2.28 ± 0.04 |
+------------------------------------------+----------------+----------+----------+-------------+
