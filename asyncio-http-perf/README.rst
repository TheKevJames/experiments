Asyncio HTTP Client Perf
========================

A quick comparison of popular async client libraries for performing HTTP
requests in Python.

Usage
-----

Start the server::

    $ make server

Then, in a new shell::

    $ make bench

Results
-------

+------------------------------------------+---------------+-------------+-------------+-------------+
| Command                                  | Mean [ms]     | Min [ms]    | Max [ms]    | Relative    |
+==========================================+===============+=============+=============+=============+
| ``aiohttp run --count=1 --batch=1``      | 757.5 ± 55.7  | 715.2       | 859.2       | 1.02 ± 0.09 |
+------------------------------------------+---------------+-------------+-------------+-------------+
| ``aiohttp run --count=10 --batch=1``     | 789.4 ± 42.4  | 745.0       | 861.2       | 1.06 ± 0.07 |
+------------------------------------------+---------------+-------------+-------------+-------------+
| ``aiohttp run --count=10 --batch=10``    | 741.4 ± 31.7  | 706.9       | 806.2       | 1.00        |
+------------------------------------------+---------------+-------------+-------------+-------------+
| ``aiohttp run --count=100 --batch=1``    | 778.8 ± 42.8  | 746.1       | 859.0       | 1.05 ± 0.07 |
+------------------------------------------+---------------+-------------+-------------+-------------+
| ``aiohttp run --count=100 --batch=10``   | 791.7 ± 33.8  | 736.9       | 842.5       | 1.07 ± 0.06 |
+------------------------------------------+---------------+-------------+-------------+-------------+
| ``aiohttp run --count=100 --batch=100``  | 798.2 ± 46.3  | 753.2       | 875.7       | 1.08 ± 0.08 |
+------------------------------------------+---------------+-------------+-------------+-------------+
| ``aiohttp run --count=1000 --batch=1``   | 1241.3 ± 69.0 | 1163.6      | 1361.5      | 1.67 ± 0.12 |
+------------------------------------------+---------------+-------------+-------------+-------------+
| ``aiohttp run --count=1000 --batch=10``  | 1104.3 ± 24.7 | 1071.1      | 1138.2      | 1.49 ± 0.07 |
+------------------------------------------+---------------+-------------+-------------+-------------+
| ``aiohttp run --count=1000 --batch=100`` | 1095.9 ± 31.6 | 1054.3      | 1145.0      | 1.48 ± 0.08 |
+------------------------------------------+---------------+-------------+-------------+-------------+
| ``aiohttp run --count=1000 --batch=100`` | 1116.2 ± 41.8 | 1059.7      | 1200.0      | 1.51 ± 0.09 |
+------------------------------------------+---------------+-------------+-------------+-------------+
| ``httpx run --count=1 --batch=1``        | 781.9 ± 41.6  | 725.4       | 861.3       | 1.05 ± 0.07 |
+------------------------------------------+---------------+-------------+-------------+-------------+
| ``httpx run --count=10 --batch=1``       | 796.3 ± 41.0  | 744.4       | 876.0       | 1.07 ± 0.07 |
+------------------------------------------+---------------+-------------+-------------+-------------+
| ``httpx run --count=10 --batch=10``      | 805.0 ± 23.7  | 771.1       | 841.6       | 1.09 ± 0.06 |
+------------------------------------------+---------------+-------------+-------------+-------------+
| ``httpx run --count=100 --batch=1``      | 926.5 ± 50.5  | 887.4       | 1046.7      | 1.25 ± 0.09 |
+------------------------------------------+---------------+-------------+-------------+-------------+
| ``httpx run --count=100 --batch=10``     | 990.9 ± 30.0  | 954.4       | 1052.6      | 1.34 ± 0.07 |
+------------------------------------------+---------------+-------------+-------------+-------------+
| ``httpx run --count=100 --batch=100``    | 1008.9 ± 52.4 | 955.6       | 1117.4      | 1.36 ± 0.09 |
+------------------------------------------+---------------+-------------+-------------+-------------+
| ``httpx run --count=1000 --batch=1``     | 2419.6 ± 78.9 | 2345.9      | 2551.8      | 3.26 ± 0.18 |
+------------------------------------------+---------------+-------------+-------------+-------------+
| ``httpx run --count=1000 --batch=10``    | 3043.6 ± 95.1 | 2902.0      | 3204.8      | 4.11 ± 0.22 |
+------------------------------------------+---------------+-------------+-------------+-------------+
| ``httpx run --count=1000 --batch=100``   | 3008.0 ± 91.5 | 2916.3      | 3204.5      | 4.06 ± 0.21 |
+------------------------------------------+---------------+-------------+-------------+-------------+
| ``httpx run --count=1000 --batch=100``   | 3035.6 ± 92.8 | 2883.1      | 3220.1      | 4.09 ± 0.22 |
+------------------------------------------+---------------+-------------+-------------+-------------+
